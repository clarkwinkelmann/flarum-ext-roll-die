module.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t){e.exports=flarum.core.compat["common/extend"]},function(e,t){e.exports=flarum.core.compat["forum/app"]},,function(e,t){e.exports=flarum.core.compat["common/models/Post"]},function(e,t){e.exports=flarum.core.compat["common/utils/extractText"]},function(e,t){e.exports=flarum.core.compat["forum/components/CommentPost"]},function(e,t){e.exports=flarum.core.compat["common/components/TextEditor"]},function(e,t){e.exports=flarum.core.compat["common/components/TextEditorButton"]},function(e,t,r){"use strict";r.r(t);var o=r(0),n=r(1),a=r.n(n),c=r(3),i=r.n(c),l=r(4),u=r.n(l),s=r(5),p=r.n(s),f=r(6),d=r.n(f),x=r(7),b=r.n(x),v=["‚öÄ","‚öÅ","‚öÇ","‚öÉ","‚öÑ","‚öÖ"],y=/^[\n\r]*(üé≤|[‚öÄ‚öÅ‚öÇ‚öÉ‚öÑ‚öÖ])[\n\r]*$/;function T(e){$(e).tooltip({container:document.body,placement:"right"})}a.a.initializers.add("roll-die",(function(){Object(o.override)(i.a.prototype,"contentHtml",(function(e){var t=e(),r=this.attribute("diceRolls");if(!r)return t;var o=r.split(""),n=0;return t.replace(/(<(?:br|p)>[\n\r]*)(?:üé≤|[‚öÄ‚öÅ‚öÇ‚öÉ‚öÑ‚öÖ])(?=<(?:br|\/p)>)/gm,(function(e,t){var r=parseInt(o[n++]),c=document.createElement("span");return c.className="roll-a-die",c.dataset.number=r+"",c.title=u()(a.a.translator.trans("clarkwinkelmann-roll-die.forum.tooltip.render",{number:r})),c.textContent=v[r-1]||"‚ö†",t+c.outerHTML}))})),Object(o.extend)(p.a.prototype,["oncreate","onupdate"],(function(e,t){t.dom.querySelectorAll(".roll-a-die").forEach((function(e){T(e)}))})),Object(o.override)(s9e.TextFormatter,"preview",(function(e,t,r){var o,n;for(e(t,r),o=document.createTreeWalker(r);n=o.nextNode();)if(n instanceof HTMLElement&&n.classList.contains("roll-a-die")&&!y.test(n.textContent||"")){var c=document.createTextNode(n.textContent||"");n.parentNode.replaceChild(c,n)}o=document.createTreeWalker(r,NodeFilter.SHOW_TEXT);for(var i=[];n=o.nextNode();)n.textContent&&(n.parentNode.classList.contains("roll-a-die")||y.test(n.textContent)&&i.push(n));i.forEach((function(e){var t=document.createElement("span");t.className="roll-a-die preview",t.title=a.a.translator.trans("clarkwinkelmann-roll-die.forum.tooltip.preview"),t.textContent="‚öÄ",e.parentNode.replaceChild(t,e),T(t)}))})),Object(o.extend)(d.a.prototype,"toolbarItems",(function(e){var t=this;e.add("roll-die",m(b.a,{icon:"fas fa-dice",onclick:function(){return t.attrs.composer.editor.insertAtCursor("\nüé≤\n")}},a.a.translator.trans("clarkwinkelmann-roll-die.forum.composer.rollDie")))}))}),100)}]);
//# sourceMappingURL=forum.js.map